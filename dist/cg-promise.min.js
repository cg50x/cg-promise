!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.CGPromise=n()}(this,function(){"use strict";var t;!function(t){t[t.Rejected=0]="Rejected",t[t.Resolved=1]="Resolved",t[t.Pending=2]="Pending"}(t||(t={}));var n=function(){function n(n){var e=this;this.status=t.Pending,this.payload=null,this.thenCallbacks=[],this.errCallbacks=[],setTimeout(function(){n(function(t){return e.resolve(t)},function(t){return e.reject(t)})})}return n.prototype.then=function(e){var o=this;return new n(this.status===t.Resolved?function(t,n){o.getAction(t,n,e)(o.payload)}:this.status===t.Rejected?function(t,n){n(o.payload)}:function(t,n){var i=o.getAction(t,n,e);o.thenCallbacks.push(i),o.errCallbacks.push(function(){n(o.payload)})})},n.prototype.catch=function(e){var o=this;return new n(this.status===t.Rejected?function(t,n){o.getAction(t,n,e)(o.payload)}:this.status===t.Resolved?function(t){t(o.payload)}:function(t,n){var i=o.getAction(t,n,e);o.errCallbacks.push(i),o.thenCallbacks.push(function(){t(o.payload)})})},n.prototype.reject=function(n){var e=this;this.status===t.Pending&&(this.status=t.Rejected,this.payload=n,this.errCallbacks.forEach(function(t){t(e.payload)}))},n.prototype.resolve=function(n){var e=this;this.status===t.Pending&&(this.status=t.Resolved,this.payload=n,this.thenCallbacks.forEach(function(t){t(e.payload)}))},n.prototype.getAction=function(t,e,o){return function(i){try{var c=o(i);c instanceof n?(c.then(t),c.catch(e)):t(c)}catch(t){e(t)}}},n}();return n.resolve=function(t){return new n(function(n){n(t)})},n.reject=function(t){return new n(function(n,e){e(t)})},n.all=function(t){return t=t||[],new n(function(n,e){var o=new Array(t.length),i=0;t.forEach(function(e,c){e.then(function(e){o[c]=e,(i+=1)===t.length&&n(o)})}),t.forEach(function(t){t.catch(function(t){e(t)})})})},n});
//# sourceMappingURL=cg-promise.min.js.map
